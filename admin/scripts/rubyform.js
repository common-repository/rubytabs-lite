!function(e){"use strict";function t(e,t){return/^-?\d+/g.test(e)?parseInt(e,10):t?0:e}window.rt03VA||(window.rt03VA={}),window.rt03VA.ev=e("<div></div>");var n="rt03selected";!function(){var a=".rf01checkbox, .rf01checkbox-text",o="click.rf01checkbox",u="valueLast",i={moreName:null,moreData:"rf01checkbox-more",valueOn:1,valueOff:0};e(a).each(function(){var a=e(this),r=a.find("input[type=hidden]"),s=r.length?!0:!1,l=!1,c=t(a.data(u)),v=a.data("options"),d={};if(e.isPlainObject(v)?a.removeAttr("data-options"):v={},d=e.extend(!0,{},i,v),null!=d.moreName){var f=e("[data-"+d.moreData+"="+d.moreName+"]");f.length&&(l=!0)}var p={active:function(){a.addClass(n),s&&r.val(d.valueOn),l&&f.removeClass(d.deactived).addClass(d.actived)},deactive:function(){a.removeClass(n),s&&r.val(d.valueOff),l&&f.removeClass(d.actived).addClass(d.deactived)}};void 0!=c&&c==d.valueOn?p.active():p.deactive(),a.on(o,function(){return a.hasClass(n)?p.deactive():p.active(),v&&"optsAdvance"==v.name&&rt03VA.ev.trigger("editor-css-refresh"),!1}),r.on("change",function(){var e=r.prop("value");1==e?p.active():p.deactive()})})}(),function(){var t=".rf01select-one",a=".rt03select-item",o="click.rt03selectOne";e(t).each(function(){var t=e(this),u=t.find(a),i=t.find("input[type=hidden]"),r=i.length;if(u.length){var s=t.data("valueLast"),l=function(e){if(u.not(e).removeClass(n),e.addClass(n),r)for(var t=0;r>t;t++){var a="value"+(t>0?t+1:"");i.eq(t).prop("value",e.data(a))}},c=t.find(a+'[data-value="'+s+'"]');1==c.length&&l(c),u.on(o,function(){var t=e(this);return t.hasClass(n)||l(t),!1}),r&&i.on("change",function(t){for(var a=e(this),o=a.prop("value"),i=null,r=0,s=u.length;s>r;r++){var l=u.eq(r),c=l.data("value");if(c==o){i=l;break}}null!=i&&(u.not(i).removeClass(n),i.addClass(n))})}})}(),function(){var t=".rf01input-updown";e(t).each(function(){var t={ns:"rf01input-updown-",plus:1,offset:0,min:0,max:1e6,unit:null,tActive:500,tInterval:50,html:{unit:'<span class="{ns}unit">{unit}</span>',down:'<div class="{ns}down">&ndash;</div>',up:'<div class="{ns}up">+</div>'}},n=e(this),a=n.data("options"),o=e.extend(!0,{},t,e.isPlainObject(a)?a:{}),u={$self:n,$value:n.find("."+o.ns+"value"),isTap:{up:!1,down:!1}},i={render:function(){var t=o.html.down+o.html.up;null!=o.unit&&(t=o.html.unit.replace(/\{unit\}/g,o.unit)+t),t=t.replace(/\{ns\}/g,o.ns),n.append(t),0!=o.offset&&(u.$offset=e("<input>").attr({type:"text","class":u.$value.prop("class"),name:"rt03input-ghost"}),u.$value.after(u.$offset).prop("type","hidden").removeAttr("class"),u.$offset=n.find('input[type="text"]')),null!=o.unit&&(u.$unit=n.find("."+o.ns+"unit")),u.$down=n.find("."+o.ns+"down"),u.$up=n.find("."+o.ns+"up")},valueBegin:function(){var e=void 0!=n.data("valueLast")?n.data("valueLast"):0;u.$value.prop("value",e),!!u.$offset&&u.$offset.prop("value",e+o.offset)},plus:function(e){var t=e?o.plus:-o.plus,n=e?o.max:o.min,a=e?1:-1;u.value=parseInt(u.$value.val())+t,u.value*a>n*a&&(u.value=n),u.value!=u.valueLast&&(u.valueLast=u.value,u.$value.val(u.value),!!u.$offset&&u.$offset.val(u.value+o.offset))},autoRun:function(e){var t=this,n=e?"up":"down";clearInterval(u.timerLoop),u.timerLoop=setInterval(function(){u.isTap[n]?t.plus(e):clearInterval(u.timerLoop)},o.tInterval)},active:function(e){var t=this,n=e?"up":"down";setTimeout(function(){u.isTap[n]&&t.autoRun(e)},o.tActive)},events:function(e,t){var n=this,a=t?"up":"down";e.on("mousedown",function(e){return u.isTap[a]=!0,n.active(t),!1}),e.on("mouseup",function(e){return u.isTap[a]&&n.plus(t),u.isTap[a]=!1,!1}),e.on("mouseleave",function(e){return u.isTap[a]=!1,!1})}};u.$value.length&&(i.render(),i.valueBegin(),i.events(u.$up,!0),i.events(u.$down,!1))})}()}(jQuery),function(e){"use strict";window.rr01VA||(window.rr01VA={codeName:"rubyranger",codeData:"ranger",namespace:"rr01"},rr01VA.optsDefault={valueBegin:0,range:[0,100],round:1,speed:100,html:{track:'<div class="{ns}track"></div>',thumb:'<div class="{ns}thumb"></div>',mark:'<div class="{ns}mark"></div>'}}),e[rr01VA.codeName]=function(t,n){var a,o,u,i,r,s,l,c,v,d,f,p,m,h,g,w=rr01VA.namespace,A=Math.round(1e6*Math.random()),$="."+w+A,b={},V={},k=e(document),x={mergeAllOpts:function(){var a=t.data(rr01VA.codeData);a||(a={}),b=e.extend(!0,b,rr01VA.optsDefault,n,a),V=e.extend(!0,V,R),e.data(t[0],rr01VA.codeName,V)},optsInit:function(){i=b.range,r=i[1]-i[0]},renderElement:function(){a=t.find("input"),o=e(b.html.track.replace(/\{ns\}/g,w)),u=e(b.html.thumb.replace(/\{ns\}/g,w)),t.append(o).append(u).append(a)}},C={inputValue:function(e){a.prop("value",e)},sizeAndPos:function(){s=t.outerWidth(),l=o.outerWidth(),c=u.outerWidth(),v=Math.round(c/2),d=s-c,f=u.offset().left},resize:function(e){var n=t.outerWidth();(n!=s||e)&&(C.sizeAndPos(),O.trackRange(),O.thumbReset())}},O={trackRange:function(){h=Math.round(o.offset().left),g=h+l},thumbMove:function(e,t){var n=parseInt(u.css("left")),a=n+e,o=null;a>0&&d>a?o=a:a>d?o=d:0>a&&(o=0),null!==o&&(t?u.animate({left:o},b.speed):u.css("left",o),p=Math.round((o*r/d+i[0])/b.round)*b.round,C.inputValue(p))},thumbReset:function(){var e=!1;if(void 0==p&&(p=b.valueBegin,e=!0),i[0]<=p&&p<=i[1]){var t=Math.round((p-i[0])*d/r);u.css("left",t),e&&C.inputValue(p)}}},I=function(){u.on("mousedown",function(e){f=e.pageX,O.trackRange(),k.on("mousemove"+$,function(e){var t=e.pageX,n=t-f;t>=h&&g>=t&&(f=t,O.thumbMove(n))})}),k.on("mouseup"+$,function(e){k.off("mousemove"+$)}),o.on("click",function(e){f=u.offset().left;var t=e.pageX,n=t-f-v;O.thumbMove(n,!0)}),a.on("change",function(){var e=p,t=a.val();i[0]<=t&&t<=i[1]?(p=t,O.thumbReset()):C.inputValue(e)}),e(window).on("resize"+$,function(e){clearTimeout(m),m=setTimeout(function(){C.resize()},100)})},R={refresh:function(){C.resize()},ev:e("<div/>")},T=function(){x.mergeAllOpts(),x.optsInit(),x.renderElement(),C.sizeAndPos(),O.thumbReset(),O.trackRange(),I()};T()},e.fn[rr01VA.codeName]=function(){var t=arguments,n=rr01VA.codeName,a=null;return e(this).each(function(){var o=e(this),u=o.data(n);if(void 0===t[0]&&(t[0]={}),e.isPlainObject(t[0]))u||new e[n](o,t[0]),a=o.data(n);else try{u[t[0]](t[1])}catch(i){!!window.console&&console.warn("["+n+": function not exist!]")}}),a}}(jQuery);